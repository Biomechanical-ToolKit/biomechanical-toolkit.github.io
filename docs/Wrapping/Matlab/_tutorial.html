<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>BTK Matlab Wrapper: Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="DoxygenStyleSheet_Wrapping_Matlab.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BTK Matlab Wrapper
   &#160;<span id="projectnumber">0.3dev.0</span>
   </div>
   <div id="projectbrief">Matlab bindings for the Biomechanical ToolKit library (BTK)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Functions</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following list gives you the steps to use BTK in Matlab.</p>
<ul>
<li><a class="el" href="_tutorial.html#TutorialBuildMatlab">Build Matlab support from the sources of BTK</a></li>
<li><a class="el" href="_tutorial.html#TutorialGettingStarted">Getting Started</a></li>
<li><a class="el" href="_tutorial.html#TutorialAcquisitionExplained">Acquisition data explained</a></li>
<li><a class="el" href="_tutorial.html#TutorialAddForcePlatform">Add force platform type 2 (AMTI or equivalent) into an acquisition</a></li>
<li><a class="el" href="_tutorial.html#TutorialProcessingData">Processing data</a></li>
<li><a class="el" href="_tutorial.html#TutorialBatchProcessing">Batch processing</a></li>
</ul>
 <hr> <h1><a class="anchor" id="TutorialBuildMatlab"></a>
Build Matlab support from the sources of BTK</h1>
<p>This section is only necessary if you downloaded the sources of BTK. If you use a binary version, go directly to the tutorial <a class="el" href="_tutorial.html#TutorialGettingStarted">Getting Started</a>.</p>
<p>To simplify the way to build the Matlab support, the tool <code>EasyInstallWithRedistributableMatlabToolbox.jar</code> is proposed in the root of the sources.</p>
<p>To use this tool, we need to download the following software:</p>
<ul>
<li>CMake 2.6.4 or later ;</li>
<li>A compiler compatible with Matlab:<ul>
<li>GCC for Linux / MacOS X ;</li>
<li>Microsoft Visual Studio C++ (Express Edition) for Windows XP/Vista/7 ;</li>
</ul>
</li>
<li>Java 1.5 or later (only for the tool <code>EasyInstallWithRedistributableMatlabToolbox.jar</code>).</li>
</ul>
<p>When these software are installed, you only need to double click on the file <code>EasyInstallWithRedistributableMatlabToolbox.jar</code>. This tool will configure the sources, compile them and install the toolbox <code>btk</code> for Matlab.</p>
<p><b>Note:</b> If your OS doesn't have Java installed (and you don't want or cannot install it), then you have again the possibility to use the tool <code>EasyInstallWithRedistributableMatlabToolbox</code>. For that, you have to go in the folder <code>Batch</code> and double clic on the file corresponding to your OS:</p>
<ul>
<li><code>EasyInstallWithRedistributableMatlabToolbox_GCC_Unix.sh</code> for Linux ;</li>
<li><code>EasyInstallWithRedistributableMatlabToolbox_GCC_MacOSX.sh</code> for MacOS X ;</li>
<li><code>EasyInstallWithRedistributableMatlabToolbox_MSVC.bat</code> for Windows.</li>
</ul>
<h1><a class="anchor" id="TutorialGettingStarted"></a>
Getting Started</h1>
<p>First of all, you need to add the path of the BTK toolbox in the list of the directories loaded by Matlab. Depending your OS, you will have to add the following path:</p>
<ul>
<li><code>C:\Program Files\BTK\share\btk-0.1\Wrapping\Matlab\btk</code> for Windows ;</li>
<li><code>/usr/local/share/btk-0.1/Wrapping/btk</code> for Un*x ;</li>
<li><code>/Applications/BTK/share/btk-0.1/Wrapping/btk</code> for MacOS X.</li>
</ul>
<p>To be sure that BTK is loaded in Matlab, type the command <code>help btk</code> in the Matlab's command window. You will see the the main documentation for the BTK toolbox. If it not the case, be sure of the path that you gave to Matlab to register the BTK toolbox.</p>
<p>Now, that BTK is recognized in Matlab, it comes easy to open your acquisition files. You have only to use the function <a class="el" href="classbtk_read_acquisition.html" title="Read an acquisition&#39;s file (C3D, TRC, ...) ">btkReadAcquisition</a>. Based on the content of your file, this function tries to open the given file and return a handle which will help you to access to the content of the acquisition.</p>
<p><b>Note:</b> Due to the use of C++ object hidden by the handle, Matlab doesn't know the memory allocated for each acquisition. In lots of case, you don't need to manage the memory used by BTK in Matlab (for example, if you want to check the content of an acquistion or read a dozen of files to analyze gait data) as the command <code>clear all</code> will clear all the memory. But if you process hundred of files, then you have to use the command <a class="el" href="classbtk_delete_acquisition.html" title="Delete the acquisiton associated with the given handle. ">btkDeleteAcquisition</a>. This command free the memory associated with the acquisition. This function can also be understood as a 'close' function.</p>
<h1><a class="anchor" id="TutorialAcquisitionExplained"></a>
Acquisition data explained</h1>
<p>This section presents you some possibilities to access or modify data stored in an acquisition.</p>
<p>An acquisition contains points (parameter with 3 components), analog channels (parameter with 1 component), events and metadata.</p>
<h2><a class="anchor" id="Points"></a>
Points</h2>
<p>A point in BTK is a generic type which contains 3D data. Then markers, forces, moments, angles, powers are regrouped in this category. For example, to extract markers' trajectories you need to use the function <a class="el" href="classbtk_get_markers.html" title="Extract markers from a given biomechanical acquisition. ">btkGetMarkers</a> like this:</p>
<div class="fragment"><div class="line">acq = <a class="code" href="classbtk_read_acquisition.html">btkReadAcquisition</a>(<span class="stringliteral">&#39;myAcquisitionFile.c3d&#39;</span>);</div>
<div class="line">markers = <a class="code" href="classbtk_get_markers.html">btkGetMarkers</a>(acq);</div>
<div class="line">% markers is a scructure containing the 3D trajectory of each markers.</div>
<div class="line">% For example, the movement of the center of the knee (KNEE) can be plotted by using:</div>
<div class="line">plot(markers.KNEE);</div>
</div><!-- fragment --><p>If you load a C3D file already processed which contains kinematics or inverse dynamic (for example, by using PluginGait for the Vicon users), it is very simple to extract angles, forces, moments, powers, etc. You only have to use the corresponding function. All these functions return a structure where each field correspond to the label of the requested points.</p>
<div class="fragment"><div class="line">angles = <a class="code" href="classbtk_get_angles.html">btkGetAngles</a>(acq);</div>
<div class="line">forces = <a class="code" href="classbtk_get_forces.html">btkGetForces</a>(acq);</div>
<div class="line">moments = <a class="code" href="classbtk_get_moments.html">btkGetMoments</a>(acq);</div>
<div class="line">powers = <a class="code" href="classbtk_get_powers.html">btkGetPowers</a>(acq);</div>
<div class="line">% ...</div>
</div><!-- fragment --><p>You can also want to extract only few points from an acquisition and return then as a matrix. This can be realized by using a little script based on BTK functions.</p>
<div class="fragment"><div class="line">%</div>
<div class="line">filename = <span class="stringliteral">&#39;myAcquisition.c3d&#39;</span>;</div>
<div class="line">pointsLabel = {<span class="stringliteral">&#39;C7&#39;</span>, <span class="stringliteral">&#39;CLAV&#39;</span>, <span class="stringliteral">&#39;CenterOfMass&#39;</span>,<span class="stringliteral">&#39;KneeJointForce&#39;</span>};</div>
<div class="line">%</div>
<div class="line">acq = <a class="code" href="classbtk_read_acquisition.html">btkReadAcquisition</a>(filename);</div>
<div class="line">num = length(pointsLabel);</div>
<div class="line">points = <a class="code" href="classbtk_get_points.html">btkGetPoints</a>(acq);</div>
<div class="line">extractedPoints = zeros(<a class="code" href="classbtk_get_point_frame_number.html">btkGetPointFrameNumber</a>(acq), num*3);</div>
<div class="line"><span class="keywordflow">for</span> i = 1:num</div>
<div class="line">   extractedPoints(:, 1+(i-1)*3:i*3) = points.(pointsLabel{i});</div>
<div class="line">end</div>
</div><!-- fragment --><p><b>Note:</b> With BTK, it is not necessary to use the metadata (named group and parameter in a C3D file) TRIAL:ACTUAL_START_FIELD and TRIAL:ACTUAL_END_FIELD to determine what is the index of the first frame and the last frame. There is already some functions for this. The function <a class="el" href="classbtk_get_first_frame.html" title="Return acquisition&#39;s first frame index. ">btkGetFirstFrame</a> returns the index of the first frame. The last frame will be determined by the function <a class="el" href="classbtk_get_last_frame.html" title="Return acquisition&#39;s last frame index. ">btkGetLastFrame</a> which use the formula: <code><a class="el" href="classbtk_get_point_frame_number.html" title="Return the number of frames for the points in the given acquisition. ">btkGetPointFrameNumber(handle)</a> - <a class="el" href="classbtk_get_first_frame.html" title="Return acquisition&#39;s first frame index. ">btkGetFirstFrame(handle)</a> + 1</code>.</p>
<p><b>Note:</b> The frames extracted from the C3D correspond to the number of frames between ACTUAL_START_FIELD and ACTUAL_END_FIELD. If your acquisition start at the frame 511 and finish at the frame 8450, and you want the 1450th you only have to type <code>extractedPoints(1450,:)</code>. However, if you want the frame #1450, then you have to substract the index of the first frame (here 511): <code>extractedPoints(1450-btkGetFirstFrame(acq)+1,:)</code>.</p>
<p>If you can access to the data, you can also edit them and finally write them in a new acquisition file. It could be useful if you have your own algorithm to compute kinematic and inverse dynamic (or to compute the mean of each parameter over a gait cycle, or ...) and would like to save them in a C3D file to be used in another software like Polygon or Mokka.</p>
<div class="fragment"><div class="line">% We can use a <span class="keyword">new</span> acquisition <span class="keywordflow">for</span> that</div>
<div class="line">acq = <a class="code" href="classbtk_new_acquisition.html">btkNewAcquisition</a>(20, 2000); % 20 points and 2000 frames</div>
<div class="line">% Acquisition frequency was 200 Hz</div>
<div class="line"><a class="code" href="classbtk_set_frequency.html">btkSetFrequency</a>(acq, 200);</div>
<div class="line">% Values setting</div>
<div class="line"><span class="keywordflow">for</span> i = 1:<a class="code" href="classbtk_get_point_number.html">btkGetPointNumber</a>(acq)</div>
<div class="line">    <a class="code" href="classbtk_set_point_label.html">btkSetPointLabel</a>(acq, i, labels{i}):</div>
<div class="line">    <a class="code" href="classbtk_set_point.html">btkSetPoint</a>(acq, i, values(i,:,:)): % values: array of 20 by 3 by 2000 </div>
<div class="line">end</div>
<div class="line"><a class="code" href="classbtk_write_acquisition.html">btkWriteAcquisition</a>(acq, <span class="stringliteral">&#39;myNewAcquisitionFile.c3d&#39;</span>);</div>
</div><!-- fragment --><p>The output is then a new C3D file containing the standard parameters required to be used in others softwares.</p>
<h2><a class="anchor" id="AnalogChannels"></a>
Analog channels</h2>
<p>The analog channels contains all the 1D measures. All the sensors measuring voltage, angular velocity, acceleration, etc., should be stored in analog channels. From the hardware point of view, it corresponds to the sensors plugged into the analog to digital converter (ADC) card.</p>
<p>To extract the data related to the analog channels, the simplest is the command <a class="el" href="classbtk_get_analogs.html" title="Extract analog channels from the given biomechanical acquisition. ">btkGetAnalogs</a>. As the function <a class="el" href="classbtk_get_points.html" title="Extract points from the given acquisition. ">btkGetPoints</a>, it returns a structure where each field correspond to a analog channel. If you use a analog sample rate greater than the video frequency, then the number of analog frames is greater than the number of point frames. For example, using the functions <a class="el" href="classbtk_get_point_frequency.html" title="Return the point&#39;s frequency for the given acquisition. ">btkGetPointFrequency</a> and <a class="el" href="classbtk_get_analog_frequency.html" title="Return the analog frequency used in the given acquisition. ">btkGetAnalogFrequency</a>, you find that the video and analog frequencies are 100 Hz and 1000 Hz respectively. So it means that for 1 video frame you have 10 samples for each analog channels. This can be confirmed by the function <a class="el" href="classbtk_get_analog_sample_number_per_frame.html" title="Return the number of analog samples per video frame. ">btkGetAnalogSampleNumberPerFrame</a>. So, for an acquisition of 10 seconds, you will have 1000 frames for the points and 10000 frames for the analog channels.</p>
<p>An easy way to extract the analog frame corresponding to the video frame can be realized with the following code: </p>
<div class="fragment"><div class="line">% acq = <a class="code" href="classbtk_read_acquisition.html">btkReadAcquisition</a> ...</div>
<div class="line">analogs = <a class="code" href="classbtk_get_analogs.html">btkGetAnalogs</a>(acq);</div>
<div class="line">ratio = <a class="code" href="classbtk_get_analog_sample_number_per_frame.html">btkGetAnalogSampleNumberPerFrame</a>(acq);</div>
<div class="line">analogsDownsampled = [];</div>
<div class="line">labels = fieldnames(analogs);</div>
<div class="line"><span class="keywordflow">for</span> i = 1:<a class="code" href="classbtk_get_analog_number.html">btkGetAnalogNumber</a>(acq)</div>
<div class="line">  analogsDownsampled.(labels{i}) = analogs.(labels{i})(1:ratio:end);</div>
<div class="line">  % ...</div>
<div class="line">end</div>
</div><!-- fragment --><p>An analog channel contains also of a numerical offset and a scale factor used for the analog to digital conversion or vice-versa. You can find them in the second output of the function <a class="el" href="classbtk_get_analogs.html" title="Extract analog channels from the given biomechanical acquisition. ">btkGetAnalogs</a>. These parameters are important if you want to add analog channels in your acquisition and then save it in a file. These informations should be found in your hardware system or in the configuration of your acquisition software.</p>
<h2><a class="anchor" id="Events"></a>
Events</h2>
<p>To extract events, you only have to use the function <a class="el" href="classbtk_get_events.html" title="Extract events from a biomechanical acquisition. ">btkGetEvents</a> which sorts the events by label and by time.</p>
<pre class="fragment">events = btkGetEvents(acq)

events = 

     Left_Foot_Strike: [5.6300 6.6900 7.8100]
    Right_Foot_Strike: [6.1600 7.3000 8.3000]
        Left_Foot_Off: [6.2500 7.4500]
       Right_Foot_Off: [6.9400 7.9800] 
</pre><h2><a class="anchor" id="Metadata"></a>
Metadata</h2>
<p>A metadata is a generic container to store the acquisition configuration. Or said differently, a metadata contains every informations which cannot be set into markers' trajectories nor analog channels' measures, nor events. For example, if you want to include subject's informations (sex, weight, height, ...) or force platform's configuration (corner's coordinates, analog channel used, ...), then the metadata are the right place to do this. In the C3D file format, the metadata are known as groups and parameters.</p>
<p>To access to the acquisition's metadata, you have to use the function <a class="el" href="classbtk_get_meta_data.html" title="Extract metadata for the given acquisition. ">btkGetMetaData</a> which will all the content of the metadata from its root. The output of the function <a class="el" href="classbtk_get_meta_data.html" title="Extract metadata for the given acquisition. ">btkGetMetaData</a> is a structure which gives you a tree with children and values. For example, if you want to access to the value of the metadata SUBJECTS:WEIGHT, you can use the following code:</p>
<div class="fragment"><div class="line">% acq = <a class="code" href="classbtk_read_acquisition.html">btkReadAcquisition</a> ...</div>
<div class="line">md = <a class="code" href="classbtk_get_meta_data.html">btkGetMetaData</a>(acq);</div>
<div class="line">weight = md.children.SUBJECTS.children.WEIGHT.info.values;</div>
</div><!-- fragment --><p>If you are not sure that the metadata SUBJECTS:WEIGHT exists you can use the function <a class="el" href="classbtk_find_meta_data.html" title="Return the searched metadata or 0 if not found. ">btkFindMetaData</a>.</p>
<div class="fragment"><div class="line">% acq = <a class="code" href="classbtk_read_acquisition.html">btkReadAcquisition</a> ...</div>
<div class="line">md = <a class="code" href="classbtk_find_meta_data.html">btkFindMetaData</a>(acq, <span class="stringliteral">&#39;SUBJECTS&#39;</span>, <span class="stringliteral">&#39;WEIGHT&#39;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (md ~= 0) % exists</div>
<div class="line">  weight = md.info.values; % the returned structure is directly the content of the metadata SUBJECTS:WEIGHT.</div>
<div class="line">end</div>
</div><!-- fragment --><h1><a class="anchor" id="TutorialAddForcePlatform"></a>
Add force platform type 2 (AMTI or equivalent) into an acquisition</h1>
<p>In some case, your acquisition setup cannot record all the data by the same system and then, you have several files for one trial. This section explain you how to add a force platform into an acquistion.</p>
<p>A force platform is represented in BTK as a set of analog channels combined with a configuration stored in the metadata FORCE_PLATFORM and its children. This configuration is the same than the one proposed in the C3D file format (<a href="http://www.c3d.org/HTML/theforceplatformgroup.htm">http://www.c3d.org/HTML/theforceplatformgroup.htm</a>). To easily integrate a force platfrom, it exists the Matlab function <a class="el" href="classbtk_append_force_platform_type2.html" title="Append a virtual force platform of type 2 (Fx,Fy,Fz,Mx,My,Mz). ">btkAppendForcePlatformType2</a>. This function appends an AMTI (or equivalent with FxFyFzMxMyMz measurements) force platform by adding required analog channels and the creation (or update) of its configuration.</p>
<div class="fragment"><div class="line">% Create with an acquisition with 19 markers, 1000 frames, no analog channel but sampled 10 times more than video frame.</div>
<div class="line">acq = btkNewAcqusition(19,1000,0,10);</div>
<div class="line">% Set the frequency: Markers: 100Hz, Analog channels: 1000Hz (due to the use of the factor 10 in the <span class="keyword">function</span> <a class="code" href="classbtk_new_acquisition.html">btkNewAcquisition</a>)</div>
<div class="line"><a class="code" href="classbtk_set_frequency.html">btkSetFrequency</a>(100);</div>
<div class="line">% Set 3D coordinates <span class="keywordflow">for</span> markers</div>
<div class="line">% - markersV is a matrix wit the dimensions (19*3,1000)</div>
<div class="line"><a class="code" href="classbtk_set_markers_values.html">btkSetMarkersValues</a>(acq, markersV); </div>
<div class="line">% Append a force platform type 2:</div>
<div class="line">% - forcesV is a matrix (3,10000) with reaction forces ;</div>
<div class="line">% - momentsV is a matrix (3,10000) with reaction moments ;</div>
<div class="line">% - corners is a matrix (4,3) with the coordinates of the 4 corners expressed in the global (laboratory) frame ;</div>
<div class="line">% - origin is a vector (1,3) containing the location of the sensor related to the center of the working surface and expressed in the global frame ;</div>
<div class="line">% - 1 is a flag to say that the reaction forces and moments are measured in the force platform (local) frame.</div>
<div class="line"><a class="code" href="classbtk_append_force_platform_type2.html">btkAppendForcePlatformType2</a>(acq, forcesV, momentsV, corners, origin, 1);</div>
<div class="line">% Write the new acquisition</div>
<div class="line"><a class="code" href="classbtk_write_acquisition.html">btkWriteAcquisition</a>(acq, &#39;myAcquisitionWithFP.c3d&#39;);</div>
</div><!-- fragment --><h1><a class="anchor" id="TutorialProcessingData"></a>
Processing data</h1>
<p>One of the goal of BTK is also to give some tools to compute standard biomechanical parameters (kinematic, dynamic inverse, ...). All the existing tools are stored in the BasicFilters section in the help. For example, to determine the ground reaction forces (wrenches) from an acquisition containing a force platform, you only have to use the function <a class="el" href="classbtk_get_ground_reaction_wrenches.html" title="Extract ground reaction wrenches (GRW) expressed in the global frame from a given acquisition...">btkGetGroundReactionWrenches</a>. This function take into account the type of force platform (AMTI, Kistler, ...) and compute the group reaction wrench (force, moment and position). The point of application of each wrench is calculated from the formula of Shimba (1984) which also was described in Zatsiorsky (2002). Contrary to the center of pressure (COP) the point of wrench application (PWA) is calculated by using also the horizontal moments. The result is a structure with a number of elements equal to the number of force platforms.</p>
<div class="fragment"><div class="line">% Import acquisition</div>
<div class="line">acq = <a class="code" href="classbtk_read_acquisition.html">btkReadAcquisition</a>(<span class="stringliteral">&#39;myAcquisition.c3d&#39;</span>);</div>
<div class="line">% Extract analogs values as a matrix.</div>
<div class="line">av = <a class="code" href="classbtk_get_analogs_values.html">btkGetAnalogsValues</a>(acq);</div>
<div class="line">% Filter data</div>
<div class="line">% The parameters must be multiplied due to the use of filtfilt.</div>
<div class="line">% The <span class="keyword">final</span> order is divided by 2 and the cut-off frequency is multiplied by 1.5162</div>
<div class="line">% These values are computed from the article:</div>
<div class="line">% <span class="stringliteral">&quot;Design and responses of Butterworth and critically damped digital filters&quot;</span>, </div>
<div class="line">% Robertson &amp; Dowling, Journal of Electromyography and Kinesiology, 2003.</div>
<div class="line">% Warning: the factor 1.5162 is dependant of the filter order and must be </div>
<div class="line">% adapted in consequence <span class="keywordflow">for</span> other order <span class="keyword">using</span> the formula given in the paper.</div>
<div class="line">[b,a] = butter(4/2, 2 * 30 * 1.5162 / <a class="code" href="classbtk_get_analog_frequency.html">btkGetAnalogFrequency</a>(acq)); </div>
<div class="line">av = filtfilt(b,a, av);</div>
<div class="line"><a class="code" href="classbtk_set_analogs_values.html">btkSetAnalogsValues</a>(acq, av);</div>
<div class="line">% Compute ground reaction wrenches with a threshold of 3 newtons</div>
<div class="line">grws = <a class="code" href="classbtk_get_ground_reaction_wrenches.html">btkGetGroundReactionWrenches</a>(acq, 3);</div>
<div class="line">figure; plot(grws(1).P) % Position</div>
<div class="line">figure; plot(grws(1).F) % Force</div>
<div class="line">figure; plot(grws(1).M) % Moment</div>
</div><!-- fragment --><h1><a class="anchor" id="TutorialBatchProcessing"></a>
Batch processing</h1>
<p>Even if BTK is well adapted to open hundred of acquisition files and process them, there is a limitation in the mechanism used to manage memory between the C++ objects and Matlab. If you open too many acquisitions without releasing the memory, Matlab can send you an "Out of Memory" error and may crash... (see <a class="el" href="_f_a_q.html#q3">FAQ</a>). One way to correct this problem is to use the function <a class="el" href="classbtk_delete_acquisition.html" title="Delete the acquisiton associated with the given handle. ">btkDeleteAcquisition</a> (or btkCloseAcquisiton) which will release the memory associated to the C++ object.</p>
<div class="fragment"><div class="line">% acquisitionsFilename: Large list of filenames</div>
<div class="line"><span class="keywordflow">for</span> 1:length(acquisitionsFilename)</div>
<div class="line">  acq = btkReadAcquistion(acquisitionsFilename{i});</div>
<div class="line">  % ... All of your code processing the acquisition data</div>
<div class="line">  <a class="code" href="classbtk_close_acquisition.html">btkCloseAcquisition</a>(acq); % Release the memory of the C++ <span class="keywordtype">object</span> associated with the handle <span class="stringliteral">&#39;acq&#39;</span></div>
<div class="line">end</div>
</div><!-- fragment --><h1><a class="anchor" id="References"></a>
References</h1>
<ol type="1">
<li>Shimba T., <em>An estimation of center of gravity from force platform data</em>, Journal of Biomechanics, <b>1984</b>, 17(1), 53–60.</li>
<li>Zatsiorsky V.M., Kinetics of Human Motion, Human Kinetics Publishers, Champaign, IL, <b>2002</b>. </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 27 2013 23:58:42 for BTK Matlab Wrapper by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>

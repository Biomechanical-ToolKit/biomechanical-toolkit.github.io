<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>BTK Matlab Wrapper: btkEmulateC3Dserver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="DoxygenStyleSheet_Wrapping_Matlab.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BTK Matlab Wrapper
   &#160;<span id="projectnumber">0.3dev.0</span>
   </div>
   <div id="projectbrief">Matlab bindings for the Biomechanical ToolKit library (BTK)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Functions</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Function&#160;List</span></a></li>
      <li><a href="classes.html"><span>Function&#160;Index</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">btkEmulateC3Dserver Class Reference<div class="ingroups"><a class="el" href="group___b_t_k_matlab_general.html">General function</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Creates an emulated COM object for C3Dserver. </p>
<dl class="section user"><dt>Syntax:</dt><dd><code>itf = btkEmulateC3Dserver()</code> </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">itf</td><td>Matlab structure containing handle to functions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Detailed description:</dt><dd>Returns a structure which emulates the COM object generated by the function <code>'actxserver</code>('C3Dserver.C3D')'. So, it gives the possibility to run scripts which use C3Dserver by using BTK. More details are proposed in this webpage: <a href="http://code.google.com/p/b-tk/wiki/C3DServerEmulationForMatlab">http://code.google.com/p/b-tk/wiki/C3DServerEmulationForMatlab</a><br/>
<br/>
The documentation below presents the differences between C3Dserver and the emulation made with BTK.<br/>
<br/>
In some case, BTK did't make the same choice than C3Dserver to extract C3D informations. Then, you will find some slight differences between both:<ul>
<li>This emulation use function handles and then required for every functions to be used with parenthesis (you cannot call 'itf.Close' but 'itf.Close()'). Use parenthesis keep your code compatible with C3Dserver.</li>
<li>A C3D file is always opened in mode 3.</li>
<li>The events in BTK use the new format proposed in the C3D documentation (using the group EVENT and EVENT_CONTEXT) which removes the limits of 18 events (and also the possibility to write event's label with more than 4 characters). All the events stored in the C3D header are automatically converted. However, at this moment, the event's status is not kept (can be added if necessary). Then, using the following code with BTK: 'itf.SetEventStatus(0,'0')' sends a warning and do nothing. To remove the warning, you have to add this command: 'warning('OFF','btk:C3Dserver:SetEventStatus')'</li>
<li>The group and parameter number are generated from the index instead of using the ID stored in the C3D file. Like that, the user doesn't need to manage this number. So, if you set the group or parameter number, a warning will inform you of the impossibility to do it. To remove this warning, type the following command: 'warning('OFF','btk:C3Dserver:UniqueNumber')' Removing this warning has an effect on the functions SetGroupNumber, SetParameterNumber. But also on the function AddGroup when you set manually the number.</li>
<li>The function 'CompressParameterBlocks' is alway activated in BTK as the group/parameter are regenerated when you write the C3D. Trying to deactivate the compression (by using CompressParameterBlocks(0)) will send a warning. To remove the warning, you have to add the command: 'warning('OFF','btk:C3Dserver:CompressParameterBlocks')'.</li>
<li>If some groups and parameters has the same name in the C3D file (which is the case with the group PROCESSING and its parameter for C3D files generated with Vicon Nexus 1.4), then BTK remove the duplication (which is not the case of C3Dserver).</li>
<li>When you delete a group, it is not possible to keep the associated parameters (They are stored in the group). If you try to do it, then a warning will be displayed and the parameters are removed. To remove the warning, use the command: 'warning('OFF','btk:C3Dserver:DeleteGroup')'.</li>
<li>The parameters are sorted by groups. Then if you select parameter by using hardcoded indices, you could have unexpected results.</li>
<li>The parameters' values are managed automatically inside BTK. In the case of parameter with the type 'Char', BTK trims (remove leading and trailing white space) values when you open the C3D file. If you set a number in a parameter with the type Char, then the number is converted into a string.</li>
<li>When you modify the parameter's type, then BTK adapts its values. In lots of conversion you can come back to the original value. However, transforming a string which doesn't contain a number creates the value 0. If you convert a Real into an Integer, you lost the floating information. If you convert an Integer into a Byte and the value is not in the range [-128, 127], then you lost the most significant part of the number. For example, the conversion (Char-&gt;Integer) for 'FOO' creates the number 0. But the conversion (Char-&gt;Integer) for '1234' creates the number 1234. The conversion (Integer-&gt;Byte) for the number 12456 creates the number 168.</li>
<li>Modifying the parameter's type, adapts also its dimensions. For example, transforming a integer parameter into a char parameter add 1 dimension corresponding to the number of characters. Or, in the other case, transforming a char parameter into an integer, remove.</li>
<li>Retrieving a parameter in another index than the original will keep the group for this index.</li>
<li>Trying to retrieve a parameter which has the same name than one in the destination group (other than the original group) will throw an error.</li>
<li>An AV ratio equal to 0 in BTK is automatically converted to 1. The number of analog frames is at least equal to the number of video frames.</li>
<li>Starting with BTK 0.2, the camera mask is no longer supported. Trying to extract or set a mask will display a warning. The returned masks from the functions GetPointMask and GetPointMaskEx are fake masks and always set to '0000000'. To remove the warning, you have to add the command: 'warning('OFF','btk:C3Dserver:FakeMask')'. </li>
</ul>
</dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 27 2013 23:58:42 for BTK Matlab Wrapper by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
